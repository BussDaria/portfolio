# Анализ базы данных сервиса для чтения книг с помощью SQL

[Исходный код тетрадки](./sql_books.ipynb)


Коронавирус застал мир врасплох, изменив привычный порядок вещей. В свободное время жители городов больше не выходят на улицу, не посещают кафе и торговые центры. Зато стало больше времени для книг. Это заметили стартаперы - и бросились создавать приложения для тех, кто любит читать.

Ваша компания решила быть на волне и купила крупный сервис для чтения книг по подписке. Ваша первая задача как аналитика - проанализировать базу данных. В ней - информация о книгах, издательствах, авторах, а также пользовательские обзоры книг. Эти данные помогут сформулировать ценностное предложение для нового продукта.


## Данные

В вашем распоряжении пять таблиц:

1. Таблица `books` содержит данные о книгах:
- `book_id` - идентификатор книги;
- `author_id` - идентификатор автора;
- `title` - название книги;
- `num_pages` - количество страниц;
- `publication_date` - дата публикации книги;
- `publisher_id` - идентификатор издателя.

2. Таблица `authors` содержит данные об авторах:
- `author_id` - идентификатор автора;
- `author` - имя автора.

3. Таблица `publishers` содержит данные об издательствах:
- `publisher_id` - идентификатор издательства;
- `publisher` - название издательства.

4. Таблица `ratings` содержит данные о пользовательских оценках книг:
- `rating_id` - идентификатор оценки;
- `book_id` - идентификатор книги;
- `username` - имя пользователя, оставившего оценку;
- `rating` - оценка книги.

5. Таблица `reviews` содержит данные о пользовательских обзорах:
- `review_id` - идентификатор обзора;
- `book_id` - идентификатор книги;
- `username` - имя автора обзора;
- `text` - текст обзора.


## Задача

1. Узнать, какое количество книг вышло после 1 января 2000 года;
2. Для каждой книги узнать количество обзоров и среднюю оценку;
3. Узнать издательство, которое выпустило наибольшее число книг толще 50 страниц;
4. Узнать автора с самой высокой средней оценкой книг, с учётом только тех книг у которых количество оценок - 50 и более;
5. Узнать среднее количество обзоров от пользователей, которые поставили больше 48 оценок.


## Используемые библиотеки
*pandas, sqlalchemy*